<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2685.4">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #4689cc; -webkit-text-stroke: #4689cc}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #8cd3fe; -webkit-text-stroke: #8cd3fe}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #c27e65; -webkit-text-stroke: #c27e65}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6d7378; -webkit-text-stroke: #6d7378}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #71c083; -webkit-text-stroke: #71c083}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca; min-height: 16.0px}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #a7c598; -webkit-text-stroke: #a7c598}
    span.s1 {font-kerning: none; background-color: #171818}
    span.s2 {font-kerning: none; color: #8cd3fe; background-color: #171818; -webkit-text-stroke: 0px #8cd3fe}
    span.s3 {font-kerning: none; color: #6d6d6d; background-color: #171818; -webkit-text-stroke: 0px #6d6d6d}
    span.s4 {font-kerning: none; color: #cacaca; background-color: #171818; -webkit-text-stroke: 0px #cacaca}
    span.s5 {font-kerning: none; color: #c27e65; background-color: #171818; -webkit-text-stroke: 0px #c27e65}
    span.s6 {font-kerning: none; color: #4689cc; background-color: #171818; -webkit-text-stroke: 0px #4689cc}
    span.s7 {font-kerning: none; color: #b76ff7; background-color: #171818; -webkit-text-stroke: 0px #b76ff7}
    span.s8 {font-kerning: none; color: #d4d4d4; background-color: #171818; -webkit-text-stroke: 0px #d4d4d4}
    span.s9 {font-kerning: none; color: #a7c598; background-color: #171818; -webkit-text-stroke: 0px #a7c598}
    span.s10 {font-kerning: none}
    span.s11 {font-kerning: none; color: #71c083; background-color: #171818; -webkit-text-stroke: 0px #71c083}
    span.s12 {font-kerning: none; color: #f67c30; background-color: #171818; -webkit-text-stroke: 0px #f67c30}
    span.s13 {font-kerning: none; color: #6d7378; background-color: #171818; -webkit-text-stroke: 0px #6d7378}
    span.s14 {font-kerning: none; color: #36c0a0; background-color: #171818; -webkit-text-stroke: 0px #36c0a0}
    span.s15 {font-kerning: none; color: #a34f83; background-color: #171818; -webkit-text-stroke: 0px #a34f83}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">html</span><span class="s4"> </span><span class="s2">lang</span><span class="s3">=</span><span class="s5">"en"</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s5">"UTF-8"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">title</span><span class="s3">&gt;</span><span class="s1">Galactic Geometry Explorer</span><span class="s3">&lt;/</span><span class="s6">title</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Tailwind CSS for modern styling --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.tailwindcss.com"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s7">@import</span><span class="s4"> </span><span class="s5">url</span><span class="s8">(</span><span class="s1">'https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;600;700&amp;family=JetBrains+Mono&amp;display=swap'</span><span class="s8">);</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">body</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s4"> </span><span class="s1">'Space Grotesk'</span><span class="s8">,</span><span class="s4"> </span><span class="s5">sans-serif</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background-color:</span><span class="s1"> #020617</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background-image:</span><span class="s4"><span class="Apple-converted-space"> </span></span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">radial-gradient(circle</span><span class="s4"> </span><span class="s1">at</span><span class="s4"> </span><span class="s9">20%</span><span class="s4"> </span><span class="s9">30%</span><span class="s8">,</span><span class="s4"> </span><span class="s1">rgba(</span><span class="s9">30</span><span class="s8">,</span><span class="s4"> </span><span class="s9">58</span><span class="s8">,</span><span class="s4"> </span><span class="s9">138</span><span class="s8">,</span><span class="s4"> </span><span class="s9">0.2</span><span class="s1">)</span><span class="s4"> </span><span class="s9">0%</span><span class="s8">,</span><span class="s4"> </span><span class="s1">transparent</span><span class="s4"> </span><span class="s9">50%</span><span class="s1">)</span><span class="s8">,</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">radial-gradient(circle</span><span class="s4"> </span><span class="s1">at</span><span class="s4"> </span><span class="s9">80%</span><span class="s4"> </span><span class="s9">70%</span><span class="s8">,</span><span class="s4"> </span><span class="s1">rgba(</span><span class="s9">88</span><span class="s8">,</span><span class="s4"> </span><span class="s9">28</span><span class="s8">,</span><span class="s4"> </span><span class="s9">135</span><span class="s8">,</span><span class="s4"> </span><span class="s9">0.2</span><span class="s1">)</span><span class="s4"> </span><span class="s9">0%</span><span class="s8">,</span><span class="s4"> </span><span class="s1">transparent</span><span class="s4"> </span><span class="s9">50%</span><span class="s1">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> #f8fafc</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">overflow-x:</span><span class="s1"> </span><span class="s5">hidden</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">min-height:</span><span class="s1"> </span><span class="s9">100vh</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.canvas-container</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">position:</span><span class="s1"> </span><span class="s5">relative</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">cursor:</span><span class="s1"> </span><span class="s5">crosshair</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">15</span><span class="s8">,</span><span class="s1"> </span><span class="s9">23</span><span class="s8">,</span><span class="s1"> </span><span class="s9">42</span><span class="s8">,</span><span class="s1"> </span><span class="s9">0.8</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">12px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">1px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">148</span><span class="s8">,</span><span class="s1"> </span><span class="s9">163</span><span class="s8">,</span><span class="s1"> </span><span class="s9">184</span><span class="s8">,</span><span class="s1"> </span><span class="s9">0.1</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">40px</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s8">,</span><span class="s1"> </span><span class="s9">0</span><span class="s8">,</span><span class="s1"> </span><span class="s9">0</span><span class="s8">,</span><span class="s1"> </span><span class="s9">0.5</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">overflow:</span><span class="s1"> </span><span class="s5">hidden</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Starfield effect */</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.canvas-container::before</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">content:</span><span class="s1"> </span><span class="s11">''</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">position:</span><span class="s1"> </span><span class="s5">absolute</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">200%</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s9">200%</span><span class="s8">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">background-image:</span><span class="s4"> </span><span class="s1">radial-gradient(</span><span class="s9">1px</span><span class="s4"> </span><span class="s9">1px</span><span class="s4"> </span><span class="s1">at</span><span class="s4"> </span><span class="s9">20px</span><span class="s4"> </span><span class="s9">30px</span><span class="s8">,</span><span class="s4"> #eee</span><span class="s8">,</span><span class="s4"> </span><span class="s1">rgba(</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s1">))</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                              </span></span><span class="s5">radial-gradient(</span><span class="s9">1px</span><span class="s1"> </span><span class="s9">1px</span><span class="s1"> </span><span class="s5">at</span><span class="s1"> </span><span class="s9">40px</span><span class="s1"> </span><span class="s9">70px</span><span class="s8">,</span><span class="s1"> #fff</span><span class="s8">,</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s5">))</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                              </span></span><span class="s5">radial-gradient(</span><span class="s9">1px</span><span class="s1"> </span><span class="s9">1px</span><span class="s1"> </span><span class="s5">at</span><span class="s1"> </span><span class="s9">50px</span><span class="s1"> </span><span class="s9">160px</span><span class="s8">,</span><span class="s1"> #ddd</span><span class="s8">,</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s5">))</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background-repeat:</span><span class="s4"> </span><span class="s5">repeat</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background-size:</span><span class="s4"> </span><span class="s9">200px</span><span class="s4"> </span><span class="s9">200px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">opacity:</span><span class="s1"> </span><span class="s9">0.3</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">z-index:</span><span class="s1"> </span><span class="s9">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.handle</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">24px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">height:</span><span class="s1"> </span><span class="s9">24px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> #60a5fa</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">4px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> #1e293b</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">50%</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">position:</span><span class="s1"> </span><span class="s5">absolute</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">translate(</span><span class="s9">-50%</span><span class="s8">,</span><span class="s1"> </span><span class="s9">-50%</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">cursor:</span><span class="s1"> </span><span class="s5">pointer</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">15px</span><span class="s1"> #3b82f6</span><span class="s8">;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">transition:</span><span class="s4"> </span><span class="s5">all</span><span class="s4"> </span><span class="s1">0.2s</span><span class="s4"> </span><span class="s5">cubic-bezier(</span><span class="s1">0.175</span><span class="s8">,</span><span class="s4"> </span><span class="s1">0.885</span><span class="s8">,</span><span class="s4"> </span><span class="s1">0.32</span><span class="s8">,</span><span class="s4"> </span><span class="s1">1.275</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">z-index:</span><span class="s1"> </span><span class="s9">50</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">touch-action:</span><span class="s1"> </span><span class="s5">none</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.handle:hover</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">scale:</span><span class="s1"> </span><span class="s9">1.2</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> #f472b6</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">20px</span><span class="s1"> #db2777</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.glass-card</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">30</span><span class="s8">,</span><span class="s1"> </span><span class="s9">41</span><span class="s8">,</span><span class="s1"> </span><span class="s9">59</span><span class="s8">,</span><span class="s1"> </span><span class="s9">0.5</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">backdrop-filter:</span><span class="s4"> </span><span class="s5">blur(</span><span class="s9">12px</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">1px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">255</span><span class="s8">,</span><span class="s1"> </span><span class="s9">255</span><span class="s8">,</span><span class="s1"> </span><span class="s9">255</span><span class="s8">,</span><span class="s1"> </span><span class="s9">0.1</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">20px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.nebula-glow</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">25px</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">139</span><span class="s8">,</span><span class="s1"> </span><span class="s9">92</span><span class="s8">,</span><span class="s1"> </span><span class="s9">246</span><span class="s8">,</span><span class="s1"> </span><span class="s9">0.2</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">border:</span><span class="s1"> </span><span class="s9">1px</span><span class="s1"> </span><span class="s5">solid</span><span class="s1"> </span><span class="s5">rgba(</span><span class="s9">167</span><span class="s8">,</span><span class="s1"> </span><span class="s9">139</span><span class="s8">,</span><span class="s1"> </span><span class="s9">250</span><span class="s8">,</span><span class="s1"> </span><span class="s9">0.3</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.ai-terminal</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s4"> </span><span class="s1">'JetBrains Mono'</span><span class="s8">,</span><span class="s4"> </span><span class="s5">monospace</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">position:</span><span class="s1"> </span><span class="s5">relative</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">overflow:</span><span class="s1"> </span><span class="s5">hidden</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.loading-dots::after</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">content:</span><span class="s1"> </span><span class="s11">'...'</span><span class="s8">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">animation:</span><span class="s4"> </span><span class="s1">pulse-subtle</span><span class="s4"> </span><span class="s9">1.5s</span><span class="s4"> </span><span class="s1">infinite</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s7">@keyframes</span><span class="s4"> </span><span class="s1">pulse-subtle</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">0%</span><span class="s8">,</span><span class="s1"> </span><span class="s9">100%</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">opacity:</span><span class="s1"> </span><span class="s9">1</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s9">50%</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">opacity:</span><span class="s1"> </span><span class="s9">0.3</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">/* Prevent text selection while dragging */</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.no-select</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">user-select:</span><span class="s1"> </span><span class="s5">none</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">-webkit-user-select:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s3">&lt;</span><span class="s6">body</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"p-4 md:p-8 no-select"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"max-w-7xl mx-auto"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">header</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mb-10 text-center"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h1</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-4xl md:text-5xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 mb-2"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>Nebula Geometry Lab</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">h1</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-slate-400 tracking-widest uppercase text-xs font-bold"</span><span class="s3">&gt;</span><span class="s4">Sector 7-G: Area Derivation Module</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">header</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"grid grid-cols-1 lg:grid-cols-4 gap-8"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;!-- Main Engine: The Interactive Canvas --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"lg:col-span-2 glass-card p-6"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex justify-between items-center mb-6"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">h2</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xl font-semibold text-blue-300 flex items-center gap-2"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">svg</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-5 h-5"</span><span class="s4"> </span><span class="s2">fill</span><span class="s3">=</span><span class="s1">"none"</span><span class="s4"> </span><span class="s2">stroke</span><span class="s3">=</span><span class="s1">"currentColor"</span><span class="s4"> </span><span class="s2">viewBox</span><span class="s3">=</span><span class="s1">"0 0 24 24"</span><span class="s3">&gt;&lt;</span><span class="s6">path</span><span class="s4"> </span><span class="s2">stroke-linecap</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">stroke-linejoin</span><span class="s3">=</span><span class="s1">"round"</span><span class="s4"> </span><span class="s2">stroke-width</span><span class="s3">=</span><span class="s1">"2"</span><span class="s4"> </span><span class="s2">d</span><span class="s3">=</span><span class="s1">"M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2-1M4 7l2 1M4 7v2.5M12 21l-2-1m2 1l2-1m-2 1v-2.5M6 18l-2-1v-2.5M18 18l2-1v-2.5"</span><span class="s3">&gt;&lt;/</span><span class="s6">path</span><span class="s3">&gt;&lt;/</span><span class="s6">svg</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>Spatial Mapping</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"toggle-rect"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"px-4 py-2 bg-blue-500/10 hover:bg-blue-500/20 border border-blue-500/30 text-blue-300 rounded-full text-[10px] font-black transition-all uppercase tracking-widest"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>Toggle Containment Field</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"canvas-container h-[400px] md:h-[450px]"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"stage"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">canvas</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"mainCanvas"</span><span class="s3">&gt;&lt;/</span><span class="s6">canvas</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"h1"</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"handle"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"h2"</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"handle"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"h3"</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"handle"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mt-8 grid grid-cols-3 gap-4 md:gap-6"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"p-4 bg-blue-900/30 border border-blue-500/20 rounded-2xl text-center"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-[9px] md:text-[10px] uppercase font-black text-blue-400 mb-1 tracking-widest"</span><span class="s3">&gt;</span><span class="s4">Base Vector</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"val-base"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xl md:text-3xl font-bold text-blue-100 font-mono"</span><span class="s3">&gt;</span><span class="s4">0</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"p-4 bg-purple-900/30 border border-purple-500/20 rounded-2xl text-center"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-[9px] md:text-[10px] uppercase font-black text-purple-400 mb-1 tracking-widest"</span><span class="s3">&gt;</span><span class="s4">Altitude</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"val-height"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xl md:text-3xl font-bold text-purple-100 font-mono"</span><span class="s3">&gt;</span><span class="s4">0</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"p-4 bg-pink-900/30 border border-pink-500/20 rounded-2xl text-center"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-[9px] md:text-[10px] uppercase font-black text-pink-400 mb-1 tracking-widest"</span><span class="s3">&gt;</span><span class="s4">Sector Mass</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"val-area"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xl md:text-3xl font-bold text-pink-100 font-mono"</span><span class="s3">&gt;</span><span class="s4">0</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;!-- Theory Core --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex flex-col gap-6"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"glass-card p-6 bg-indigo-950/40"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">h3</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-sm font-black mb-4 text-indigo-400 uppercase tracking-widest"</span><span class="s3">&gt;</span><span class="s4">The Core Axiom</span><span class="s3">&lt;/</span><span class="s6">h3</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"space-y-4"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-sm leading-relaxed text-slate-300"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>A star-sector (triangle) is precisely </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"text-white font-bold underline decoration-indigo-500"</span><span class="s3">&gt;</span><span class="s1">50% volume</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span><span class="s1"> of its rectangular hyper-space.</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-black/40 p-5 rounded-xl border border-indigo-500/30 text-center"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-2xl font-mono text-indigo-300 tracking-tighter"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                                </span>A = ½ · b · h</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"message-box"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"glass-card p-6 border-l-4 border-cyan-400 bg-cyan-950/20"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">h4</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-cyan-400 font-black text-[10px] uppercase mb-2 tracking-widest"</span><span class="s3">&gt;</span><span class="s4">Mission Logs</span><span class="s3">&lt;/</span><span class="s6">h4</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"context-msg"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-cyan-100 text-sm leading-relaxed font-medium italic"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>Scanning sector coordinates...</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;!-- Galactic Navigator (AI) --&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex flex-col gap-6"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"glass-card p-6 nebula-glow flex flex-col h-full ai-terminal bg-slate-950/80"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex items-center gap-2 mb-4"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-3 h-3 bg-purple-500 rounded-full animate-pulse"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">h3</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-sm font-black text-purple-300 uppercase tracking-tighter"</span><span class="s3">&gt;</span><span class="s4">Galactic Navigator</span><span class="s3">&lt;/</span><span class="s6">h3</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">                    </span></span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"ai-response-area"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex-grow overflow-y-auto mb-4 text-xs text-purple-100/80 leading-relaxed scrollbar-hide min-h-[100px]"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>System ready. Input coordinates for spatial analysis or request a deep-space challenge.</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"space-y-3"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"btn-explain"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full py-3 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-500 hover:to-blue-500 text-white rounded-xl text-[10px] font-black uppercase tracking-widest transition-all shadow-lg shadow-purple-900/20"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>Analyze Sector</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"btn-quiz"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full py-3 border border-purple-500/50 text-purple-300 hover:bg-purple-500/10 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>New Challenge</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- Gemini Configuration ---</span></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s7">const</span><span class="s4"> apiKey </span><span class="s8">=</span><span class="s4"> </span><span class="s11">""</span><span class="s8">;</span><span class="s4"> </span><span class="s1">// Runtime provides the key</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- Geometric Engine ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">const</span><span class="s1"> canvas </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s11">'mainCanvas'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">const</span><span class="s1"> ctx </span><span class="s8">=</span><span class="s1"> canvas</span><span class="s8">.</span><span class="s1">getContext</span><span class="s8">(</span><span class="s11">'2d'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">const</span><span class="s1"> stage </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s11">'stage'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">const</span><span class="s1"> h1 </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s11">'h1'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">const</span><span class="s1"> h2 </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s11">'h2'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">const</span><span class="s1"> h3 </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s11">'h3'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">const</span><span class="s1"> handles </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[</span><span class="s1">h1</span><span class="s8">,</span><span class="s1"> h2</span><span class="s8">,</span><span class="s1"> h3</span><span class="s8">];</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">const</span><span class="s1"> valBase </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s11">'val-base'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">const</span><span class="s1"> valHeight </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s11">'val-height'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">const</span><span class="s1"> valArea </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s11">'val-area'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">const</span><span class="s1"> contextMsg </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s11">'context-msg'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">const</span><span class="s1"> aiResponse </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s11">'ai-response-area'</span><span class="s8">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">let</span><span class="s1"> showRect </span><span class="s8">=</span><span class="s1"> </span><span class="s7">true</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">let</span><span class="s1"> points </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">{</span><span class="s1"> x</span><span class="s8">:</span><span class="s1"> </span><span class="s12">120</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">:</span><span class="s1"> </span><span class="s12">350</span><span class="s1"> </span><span class="s8">},</span><span class="s1"> </span><span class="s13">// Base Left</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">{</span><span class="s1"> x</span><span class="s8">:</span><span class="s1"> </span><span class="s12">400</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">:</span><span class="s1"> </span><span class="s12">350</span><span class="s1"> </span><span class="s8">},</span><span class="s1"> </span><span class="s13">// Base Right</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">{</span><span class="s1"> x</span><span class="s8">:</span><span class="s1"> </span><span class="s12">260</span><span class="s8">,</span><span class="s1"> y</span><span class="s8">:</span><span class="s1"> </span><span class="s12">120</span><span class="s1"> </span><span class="s8">}</span><span class="s1"><span class="Apple-converted-space">  </span></span><span class="s13">// Apex</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">];</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">function</span><span class="s1"> resize</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>canvas</span><span class="s8">.</span><span class="s1">width </span><span class="s8">=</span><span class="s1"> stage</span><span class="s8">.</span><span class="s1">offsetWidth</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>canvas</span><span class="s8">.</span><span class="s1">height </span><span class="s8">=</span><span class="s1"> stage</span><span class="s8">.</span><span class="s1">offsetHeight</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>updateUI</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">function</span><span class="s1"> updateUI</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>points</span><span class="s8">.</span><span class="s1">forEach</span><span class="s8">((</span><span class="s1">p</span><span class="s8">,</span><span class="s1"> i</span><span class="s8">)</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>handles</span><span class="s8">[</span><span class="s1">i</span><span class="s8">].</span><span class="s1">style</span><span class="s8">.</span><span class="s1">left </span><span class="s8">=</span><span class="s1"> p</span><span class="s8">.</span><span class="s1">x </span><span class="s8">+</span><span class="s1"> </span><span class="s11">'px'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>handles</span><span class="s8">[</span><span class="s1">i</span><span class="s8">].</span><span class="s1">style</span><span class="s8">.</span><span class="s1">top </span><span class="s8">=</span><span class="s1"> p</span><span class="s8">.</span><span class="s1">y </span><span class="s8">+</span><span class="s1"> </span><span class="s11">'px'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">});</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">const</span><span class="s1"> b </span><span class="s8">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">abs</span><span class="s8">(</span><span class="s1">points</span><span class="s8">[</span><span class="s12">1</span><span class="s8">].</span><span class="s1">x </span><span class="s8">-</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">x</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">const</span><span class="s1"> h </span><span class="s8">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">abs</span><span class="s8">(</span><span class="s1">points</span><span class="s8">[</span><span class="s12">2</span><span class="s8">].</span><span class="s1">y </span><span class="s8">-</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">y</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">const</span><span class="s1"> area </span><span class="s8">=</span><span class="s1"> </span><span class="s12">0.5</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> b </span><span class="s8">*</span><span class="s1"> h</span><span class="s8">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>valBase</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> </span><span class="s8">(</span><span class="s1">b </span><span class="s8">/</span><span class="s1"> </span><span class="s12">10</span><span class="s8">).</span><span class="s1">toFixed</span><span class="s8">(</span><span class="s12">1</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>valHeight</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> </span><span class="s8">(</span><span class="s1">h </span><span class="s8">/</span><span class="s1"> </span><span class="s12">10</span><span class="s8">).</span><span class="s1">toFixed</span><span class="s8">(</span><span class="s12">1</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>valArea</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> </span><span class="s8">(</span><span class="s1">area </span><span class="s8">/</span><span class="s1"> </span><span class="s12">100</span><span class="s8">).</span><span class="s1">toFixed</span><span class="s8">(</span><span class="s12">1</span><span class="s8">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Mission Log logic</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">h </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s12">10</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span>contextMsg</span><span class="s8">.</span><span class="s4">innerText </span><span class="s8">=</span><span class="s4"> </span><span class="s1">"Altitude too low for stable mass calculation. Increase Y-axis drift."</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span><span class="s1"> </span><span class="s7">else</span><span class="s1"> </span><span class="s7">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">points</span><span class="s8">[</span><span class="s12">2</span><span class="s8">].</span><span class="s1">x </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">min</span><span class="s8">(</span><span class="s1">points</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">1</span><span class="s8">].</span><span class="s1">x</span><span class="s8">)</span><span class="s1"> </span><span class="s8">||</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">2</span><span class="s8">].</span><span class="s1">x </span><span class="s8">&gt;</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">max</span><span class="s8">(</span><span class="s1">points</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">1</span><span class="s8">].</span><span class="s1">x</span><span class="s8">))</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span>contextMsg</span><span class="s8">.</span><span class="s4">innerText </span><span class="s8">=</span><span class="s4"> </span><span class="s1">"Apex detected outside base vector. Scalar derivation still valid."</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span><span class="s1"> </span><span class="s7">else</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span>contextMsg</span><span class="s8">.</span><span class="s4">innerText </span><span class="s8">=</span><span class="s4"> </span><span class="s1">"Spatial field stable. Triangle area is exactly 50% of the bounding hyper-rectangle."</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>draw</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">function</span><span class="s1"> draw</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">clearRect</span><span class="s8">(</span><span class="s12">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">0</span><span class="s8">,</span><span class="s1"> canvas</span><span class="s8">.</span><span class="s1">width</span><span class="s8">,</span><span class="s1"> canvas</span><span class="s8">.</span><span class="s1">height</span><span class="s8">);</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s13">// Neon Grid</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">strokeStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s11">'rgba(79, 70, 229, 0.1)'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">lineWidth </span><span class="s8">=</span><span class="s1"> </span><span class="s12">1</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">for</span><span class="s8">(</span><span class="s7">let</span><span class="s1"> i</span><span class="s8">=</span><span class="s12">0</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">&lt;</span><span class="s1">canvas</span><span class="s8">.</span><span class="s1">width</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">+=</span><span class="s12">40</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(</span><span class="s1">i</span><span class="s8">,</span><span class="s1"> </span><span class="s12">0</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s1">i</span><span class="s8">,</span><span class="s1"> canvas</span><span class="s8">.</span><span class="s1">height</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">stroke</span><span class="s8">();</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">for</span><span class="s8">(</span><span class="s7">let</span><span class="s1"> i</span><span class="s8">=</span><span class="s12">0</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">&lt;</span><span class="s1">canvas</span><span class="s8">.</span><span class="s1">height</span><span class="s8">;</span><span class="s1"> i</span><span class="s8">+=</span><span class="s12">40</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(</span><span class="s12">0</span><span class="s8">,</span><span class="s1"> i</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s1">canvas</span><span class="s8">.</span><span class="s1">width</span><span class="s8">,</span><span class="s1"> i</span><span class="s8">);</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">stroke</span><span class="s8">();</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">const</span><span class="s1"> minX </span><span class="s8">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">min</span><span class="s8">(</span><span class="s1">points</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">1</span><span class="s8">].</span><span class="s1">x</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">const</span><span class="s1"> maxX </span><span class="s8">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">max</span><span class="s8">(</span><span class="s1">points</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">1</span><span class="s8">].</span><span class="s1">x</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">const</span><span class="s1"> minY </span><span class="s8">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">min</span><span class="s8">(</span><span class="s1">points</span><span class="s8">[</span><span class="s12">2</span><span class="s8">].</span><span class="s1">y</span><span class="s8">,</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">y</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">const</span><span class="s1"> maxY </span><span class="s8">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">max</span><span class="s8">(</span><span class="s1">points</span><span class="s8">[</span><span class="s12">2</span><span class="s8">].</span><span class="s1">y</span><span class="s8">,</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">y</span><span class="s8">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">showRect</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">setLineDash</span><span class="s8">([</span><span class="s12">8</span><span class="s8">,</span><span class="s1"> </span><span class="s12">4</span><span class="s8">]);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">strokeStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s11">'rgba(148, 163, 184, 0.3)'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">strokeRect</span><span class="s8">(</span><span class="s1">minX</span><span class="s8">,</span><span class="s1"> minY</span><span class="s8">,</span><span class="s1"> maxX </span><span class="s8">-</span><span class="s1"> minX</span><span class="s8">,</span><span class="s1"> maxY </span><span class="s8">-</span><span class="s1"> minY</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s11">'rgba(59, 130, 246, 0.05)'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">fillRect</span><span class="s8">(</span><span class="s1">minX</span><span class="s8">,</span><span class="s1"> minY</span><span class="s8">,</span><span class="s1"> maxX </span><span class="s8">-</span><span class="s1"> minX</span><span class="s8">,</span><span class="s1"> maxY </span><span class="s8">-</span><span class="s1"> minY</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>ctx</span><span class="s8">.</span><span class="s1">setLineDash</span><span class="s8">([]);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Altitude Line (Height)</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">setLineDash</span><span class="s8">([</span><span class="s12">3</span><span class="s8">,</span><span class="s1"> </span><span class="s12">3</span><span class="s8">]);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">strokeStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s11">'#a78bfa'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(</span><span class="s1">points</span><span class="s8">[</span><span class="s12">2</span><span class="s8">].</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">2</span><span class="s8">].</span><span class="s1">y</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s1">points</span><span class="s8">[</span><span class="s12">2</span><span class="s8">].</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">y</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">stroke</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">setLineDash</span><span class="s8">([]);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Triangle Field</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">beginPath</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">moveTo</span><span class="s8">(</span><span class="s1">points</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">y</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s1">points</span><span class="s8">[</span><span class="s12">1</span><span class="s8">].</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">1</span><span class="s8">].</span><span class="s1">y</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">lineTo</span><span class="s8">(</span><span class="s1">points</span><span class="s8">[</span><span class="s12">2</span><span class="s8">].</span><span class="s1">x</span><span class="s8">,</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">2</span><span class="s8">].</span><span class="s1">y</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">closePath</span><span class="s8">();</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">const</span><span class="s1"> grad </span><span class="s8">=</span><span class="s1"> ctx</span><span class="s8">.</span><span class="s1">createLinearGradient</span><span class="s8">(</span><span class="s12">0</span><span class="s8">,</span><span class="s1"> minY</span><span class="s8">,</span><span class="s1"> </span><span class="s12">0</span><span class="s8">,</span><span class="s1"> maxY</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>grad</span><span class="s8">.</span><span class="s1">addColorStop</span><span class="s8">(</span><span class="s12">0</span><span class="s8">,</span><span class="s1"> </span><span class="s11">'rgba(192, 38, 211, 0.4)'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>grad</span><span class="s8">.</span><span class="s1">addColorStop</span><span class="s8">(</span><span class="s12">1</span><span class="s8">,</span><span class="s1"> </span><span class="s11">'rgba(37, 99, 235, 0.2)'</span><span class="s8">);</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">shadowBlur </span><span class="s8">=</span><span class="s1"> </span><span class="s12">15</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">shadowColor </span><span class="s8">=</span><span class="s1"> </span><span class="s11">'rgba(139, 92, 246, 0.5)'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> grad</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">fill</span><span class="s8">();</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">strokeStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s11">'#60a5fa'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">lineWidth </span><span class="s8">=</span><span class="s1"> </span><span class="s12">3</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">stroke</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">shadowBlur </span><span class="s8">=</span><span class="s1"> </span><span class="s12">0</span><span class="s8">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// HUD Labels</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s4">font </span><span class="s8">=</span><span class="s4"> </span><span class="s1">'700 10px JetBrains Mono'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s11">'#60a5fa'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">fillText</span><span class="s8">(</span><span class="s11">`VECTOR B: </span><span class="s8">${(</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">abs</span><span class="s8">(</span><span class="s1">points</span><span class="s8">[</span><span class="s12">1</span><span class="s8">].</span><span class="s1">x </span><span class="s8">-</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">x</span><span class="s8">)/</span><span class="s12">10</span><span class="s8">).</span><span class="s1">toFixed</span><span class="s8">(</span><span class="s12">1</span><span class="s8">)}</span><span class="s11">ly`</span><span class="s8">,</span><span class="s1"> </span><span class="s8">(</span><span class="s1">points</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">x </span><span class="s8">+</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">1</span><span class="s8">].</span><span class="s1">x</span><span class="s8">)/</span><span class="s12">2</span><span class="s1"> </span><span class="s8">-</span><span class="s1"> </span><span class="s12">30</span><span class="s8">,</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">y </span><span class="s8">+</span><span class="s1"> </span><span class="s12">20</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">fillStyle </span><span class="s8">=</span><span class="s1"> </span><span class="s11">'#a78bfa'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>ctx</span><span class="s8">.</span><span class="s1">fillText</span><span class="s8">(</span><span class="s11">`ALT: </span><span class="s8">${(</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">abs</span><span class="s8">(</span><span class="s1">points</span><span class="s8">[</span><span class="s12">2</span><span class="s8">].</span><span class="s1">y </span><span class="s8">-</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">y</span><span class="s8">)/</span><span class="s12">10</span><span class="s8">).</span><span class="s1">toFixed</span><span class="s8">(</span><span class="s12">1</span><span class="s8">)}</span><span class="s11">ly`</span><span class="s8">,</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">2</span><span class="s8">].</span><span class="s1">x </span><span class="s8">+</span><span class="s1"> </span><span class="s12">10</span><span class="s8">,</span><span class="s1"> </span><span class="s8">(</span><span class="s1">points</span><span class="s8">[</span><span class="s12">2</span><span class="s8">].</span><span class="s1">y </span><span class="s8">+</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">y</span><span class="s8">)/</span><span class="s12">2</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- Interaction Logic ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">let</span><span class="s1"> activeHandle </span><span class="s8">=</span><span class="s1"> </span><span class="s7">null</span><span class="s8">;</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">function</span><span class="s1"> getMousePos</span><span class="s8">(</span><span class="s1">e</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">const</span><span class="s1"> rect </span><span class="s8">=</span><span class="s1"> canvas</span><span class="s8">.</span><span class="s1">getBoundingClientRect</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">const</span><span class="s1"> clientX </span><span class="s8">=</span><span class="s1"> e</span><span class="s8">.</span><span class="s1">clientX </span><span class="s8">||</span><span class="s1"> </span><span class="s8">(</span><span class="s1">e</span><span class="s8">.</span><span class="s1">touches </span><span class="s8">?</span><span class="s1"> e</span><span class="s8">.</span><span class="s1">touches</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">clientX </span><span class="s8">:</span><span class="s1"> </span><span class="s12">0</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">const</span><span class="s1"> clientY </span><span class="s8">=</span><span class="s1"> e</span><span class="s8">.</span><span class="s1">clientY </span><span class="s8">||</span><span class="s1"> </span><span class="s8">(</span><span class="s1">e</span><span class="s8">.</span><span class="s1">touches </span><span class="s8">?</span><span class="s1"> e</span><span class="s8">.</span><span class="s1">touches</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">clientY </span><span class="s8">:</span><span class="s1"> </span><span class="s12">0</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">return</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>x</span><span class="s8">:</span><span class="s1"> clientX </span><span class="s8">-</span><span class="s1"> rect</span><span class="s8">.</span><span class="s1">left</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>y</span><span class="s8">:</span><span class="s1"> clientY </span><span class="s8">-</span><span class="s1"> rect</span><span class="s8">.</span><span class="s1">top</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">};</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">function</span><span class="s1"> handleStart</span><span class="s8">(</span><span class="s1">e</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">const</span><span class="s1"> pos </span><span class="s8">=</span><span class="s1"> getMousePos</span><span class="s8">(</span><span class="s1">e</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>points</span><span class="s8">.</span><span class="s1">forEach</span><span class="s8">((</span><span class="s1">p</span><span class="s8">,</span><span class="s1"> i</span><span class="s8">)</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">const</span><span class="s1"> dist </span><span class="s8">=</span><span class="s1"> </span><span class="s14">Math</span><span class="s8">.</span><span class="s1">sqrt</span><span class="s8">((</span><span class="s1">pos</span><span class="s8">.</span><span class="s1">x </span><span class="s8">-</span><span class="s1"> p</span><span class="s8">.</span><span class="s1">x</span><span class="s8">)**</span><span class="s12">2</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s8">(</span><span class="s1">pos</span><span class="s8">.</span><span class="s1">y </span><span class="s8">-</span><span class="s1"> p</span><span class="s8">.</span><span class="s1">y</span><span class="s8">)**</span><span class="s12">2</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">dist </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s12">30</span><span class="s8">)</span><span class="s1"> activeHandle </span><span class="s8">=</span><span class="s1"> i</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">function</span><span class="s1"> handleMove</span><span class="s8">(</span><span class="s1">e</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">activeHandle </span><span class="s8">===</span><span class="s1"> </span><span class="s7">null</span><span class="s8">)</span><span class="s1"> </span><span class="s7">return</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">const</span><span class="s1"> pos </span><span class="s8">=</span><span class="s1"> getMousePos</span><span class="s8">(</span><span class="s1">e</span><span class="s8">);</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// Snap/Constraint logic</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">activeHandle </span><span class="s8">===</span><span class="s1"> </span><span class="s12">0</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>points</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">x </span><span class="s8">=</span><span class="s1"> pos</span><span class="s8">.</span><span class="s1">x</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>points</span><span class="s8">[</span><span class="s12">1</span><span class="s8">].</span><span class="s1">y </span><span class="s8">=</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">y</span><span class="s8">;</span><span class="s1"> </span><span class="s13">// Maintain horizontal base</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span><span class="s1"> </span><span class="s7">else</span><span class="s1"> </span><span class="s7">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">activeHandle </span><span class="s8">===</span><span class="s1"> </span><span class="s12">1</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>points</span><span class="s8">[</span><span class="s12">1</span><span class="s8">].</span><span class="s1">x </span><span class="s8">=</span><span class="s1"> pos</span><span class="s8">.</span><span class="s1">x</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>points</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">y </span><span class="s8">=</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">1</span><span class="s8">].</span><span class="s1">y</span><span class="s8">;</span><span class="s1"> </span><span class="s13">// Maintain horizontal base</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span><span class="s1"> </span><span class="s7">else</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>points</span><span class="s8">[</span><span class="s12">2</span><span class="s8">].</span><span class="s1">x </span><span class="s8">=</span><span class="s1"> pos</span><span class="s8">.</span><span class="s1">x</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>points</span><span class="s8">[</span><span class="s12">2</span><span class="s8">].</span><span class="s1">y </span><span class="s8">=</span><span class="s1"> pos</span><span class="s8">.</span><span class="s1">y</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>updateUI</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">function</span><span class="s1"> handleEnd</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>activeHandle </span><span class="s8">=</span><span class="s1"> </span><span class="s7">null</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s11">'mousedown'</span><span class="s8">,</span><span class="s1"> handleStart</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s11">'mousemove'</span><span class="s8">,</span><span class="s1"> handleMove</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s11">'mouseup'</span><span class="s8">,</span><span class="s1"> handleEnd</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s11">'touchstart'</span><span class="s8">,</span><span class="s1"> handleStart</span><span class="s8">,</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> passive</span><span class="s8">:</span><span class="s1"> </span><span class="s7">false</span><span class="s1"> </span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s11">'touchmove'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">(</span><span class="s1">e</span><span class="s8">)</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> e</span><span class="s8">.</span><span class="s1">preventDefault</span><span class="s8">();</span><span class="s1"> handleMove</span><span class="s8">(</span><span class="s1">e</span><span class="s8">);</span><span class="s1"> </span><span class="s8">},</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> passive</span><span class="s8">:</span><span class="s1"> </span><span class="s7">false</span><span class="s1"> </span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s11">'touchend'</span><span class="s8">,</span><span class="s1"> handleEnd</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s11">'resize'</span><span class="s8">,</span><span class="s1"> resize</span><span class="s8">);</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s11">'toggle-rect'</span><span class="s8">).</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s11">'click'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>showRect </span><span class="s8">=</span><span class="s1"> </span><span class="s8">!</span><span class="s1">showRect</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>updateUI</span><span class="s8">();</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">});</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- AI API Integration (Gemini) ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s7">async</span><span class="s1"> </span><span class="s7">function</span><span class="s1"> callGemini</span><span class="s8">(</span><span class="s1">prompt</span><span class="s8">,</span><span class="s1"> systemInstruction</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span>aiResponse</span><span class="s8">.</span><span class="s4">innerHTML </span><span class="s8">=</span><span class="s4"> </span><span class="s1">'&lt;span class="text-blue-400 font-bold loading-dots"&gt;COMMUNICATING WITH SATELLITE&lt;/span&gt;'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">let</span><span class="s1"> retries </span><span class="s8">=</span><span class="s1"> </span><span class="s12">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">const</span><span class="s1"> delays </span><span class="s8">=</span><span class="s1"> </span><span class="s8">[</span><span class="s12">1000</span><span class="s8">,</span><span class="s1"> </span><span class="s12">2000</span><span class="s8">,</span><span class="s1"> </span><span class="s12">4000</span><span class="s8">,</span><span class="s1"> </span><span class="s12">8000</span><span class="s8">,</span><span class="s1"> </span><span class="s12">16000</span><span class="s8">];</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">const</span><span class="s1"> fetchData </span><span class="s8">=</span><span class="s1"> </span><span class="s7">async</span><span class="s1"> </span><span class="s8">()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s7">const</span><span class="s4"> response </span><span class="s8">=</span><span class="s4"> </span><span class="s7">await</span><span class="s4"> fetch</span><span class="s8">(</span><span class="s1">`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=</span><span class="s8">${</span><span class="s4">apiKey</span><span class="s8">}</span><span class="s1">`</span><span class="s8">,</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>method</span><span class="s8">:</span><span class="s1"> </span><span class="s11">'POST'</span><span class="s8">,</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                    </span>headers</span><span class="s8">:</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">'Content-Type'</span><span class="s8">:</span><span class="s4"> </span><span class="s1">'application/json'</span><span class="s4"> </span><span class="s8">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>body</span><span class="s8">:</span><span class="s1"> </span><span class="s14">JSON</span><span class="s8">.</span><span class="s1">stringify</span><span class="s8">({</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>contents</span><span class="s8">:</span><span class="s1"> </span><span class="s8">[{</span><span class="s1"> parts</span><span class="s8">:</span><span class="s1"> </span><span class="s8">[{</span><span class="s1"> text</span><span class="s8">:</span><span class="s1"> prompt </span><span class="s8">}]</span><span class="s1"> </span><span class="s8">}],</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>systemInstruction</span><span class="s8">:</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> parts</span><span class="s8">:</span><span class="s1"> </span><span class="s8">[{</span><span class="s1"> text</span><span class="s8">:</span><span class="s1"> systemInstruction </span><span class="s8">}]</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">})</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">if</span><span class="s1"> </span><span class="s8">(!</span><span class="s1">response</span><span class="s8">.</span><span class="s1">ok</span><span class="s8">)</span><span class="s1"> </span><span class="s7">throw</span><span class="s1"> </span><span class="s7">new</span><span class="s1"> </span><span class="s14">Error</span><span class="s8">(</span><span class="s11">'API Transmission Error'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">return</span><span class="s1"> response</span><span class="s8">.</span><span class="s1">json</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">};</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">while</span><span class="s1"> </span><span class="s8">(</span><span class="s1">retries </span><span class="s8">&lt;</span><span class="s1"> </span><span class="s12">5</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s7">try</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">const</span><span class="s1"> result </span><span class="s8">=</span><span class="s1"> </span><span class="s7">await</span><span class="s1"> fetchData</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">const</span><span class="s1"> text </span><span class="s8">=</span><span class="s1"> result</span><span class="s8">.</span><span class="s1">candidates</span><span class="s8">?.[</span><span class="s12">0</span><span class="s8">]?.</span><span class="s1">content</span><span class="s8">?.</span><span class="s1">parts</span><span class="s8">?.[</span><span class="s12">0</span><span class="s8">]?.</span><span class="s1">text</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>aiResponse</span><span class="s8">.</span><span class="s1">innerHTML </span><span class="s8">=</span><span class="s1"> text</span><span class="s8">.</span><span class="s1">replace</span><span class="s8">(</span><span class="s15">/\n/</span><span class="s7">g</span><span class="s8">,</span><span class="s1"> </span><span class="s11">'&lt;br&gt;'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">return</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span><span class="s1"> </span><span class="s7">catch</span><span class="s1"> </span><span class="s8">(</span><span class="s1">e</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s7">await</span><span class="s1"> </span><span class="s7">new</span><span class="s1"> </span><span class="s14">Promise</span><span class="s8">(</span><span class="s1">r </span><span class="s8">=&gt;</span><span class="s1"> setTimeout</span><span class="s8">(</span><span class="s1">r</span><span class="s8">,</span><span class="s1"> delays</span><span class="s8">[</span><span class="s1">retries</span><span class="s8">]));</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>retries</span><span class="s8">++;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span>aiResponse</span><span class="s8">.</span><span class="s4">innerText </span><span class="s8">=</span><span class="s4"> </span><span class="s1">"SIGNAL LOST. RECONNECTING TO GALACTIC HUB..."</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s11">'btn-explain'</span><span class="s8">).</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s11">'click'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">const</span><span class="s1"> b </span><span class="s8">=</span><span class="s1"> </span><span class="s8">(</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">abs</span><span class="s8">(</span><span class="s1">points</span><span class="s8">[</span><span class="s12">1</span><span class="s8">].</span><span class="s1">x </span><span class="s8">-</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">x</span><span class="s8">)</span><span class="s1"> </span><span class="s8">/</span><span class="s1"> </span><span class="s12">10</span><span class="s8">).</span><span class="s1">toFixed</span><span class="s8">(</span><span class="s12">1</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">const</span><span class="s1"> h </span><span class="s8">=</span><span class="s1"> </span><span class="s8">(</span><span class="s14">Math</span><span class="s8">.</span><span class="s1">abs</span><span class="s8">(</span><span class="s1">points</span><span class="s8">[</span><span class="s12">2</span><span class="s8">].</span><span class="s1">y </span><span class="s8">-</span><span class="s1"> points</span><span class="s8">[</span><span class="s12">0</span><span class="s8">].</span><span class="s1">y</span><span class="s8">)</span><span class="s1"> </span><span class="s8">/</span><span class="s1"> </span><span class="s12">10</span><span class="s8">).</span><span class="s1">toFixed</span><span class="s8">(</span><span class="s12">1</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s7">const</span><span class="s1"> a </span><span class="s8">=</span><span class="s1"> </span><span class="s8">(</span><span class="s12">0.5</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> b </span><span class="s8">*</span><span class="s1"> h</span><span class="s8">).</span><span class="s1">toFixed</span><span class="s8">(</span><span class="s12">1</span><span class="s8">);</span></p>
<p class="p7"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s7">const</span><span class="s4"> prompt </span><span class="s8">=</span><span class="s4"> </span><span class="s1">`Current Coordinates: Base </span><span class="s8">${</span><span class="s4">b</span><span class="s8">}</span><span class="s1"> ly, Altitude </span><span class="s8">${</span><span class="s4">h</span><span class="s8">}</span><span class="s1"> ly. Calculated Mass: </span><span class="s8">${</span><span class="s4">a</span><span class="s8">}</span><span class="s1"> ly². Explain how this sector's area is derived from its containment rectangle using a space exploration metaphor. Explain why it's exactly half.`</span><span class="s8">;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s7">const</span><span class="s4"> system </span><span class="s8">=</span><span class="s4"> </span><span class="s1">"You are the Galactic Navigator AI. Use sci-fi metaphors (star charts, fuel density, shield sectors). Keep it encouraging for high school recruits. Be under 50 words."</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>callGemini</span><span class="s8">(</span><span class="s1">prompt</span><span class="s8">,</span><span class="s1"> system</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">});</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s11">'btn-quiz'</span><span class="s8">).</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s11">'click'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s7">const</span><span class="s4"> prompt </span><span class="s8">=</span><span class="s4"> </span><span class="s1">"Generate a spatial reasoning challenge for a navigation recruit about triangles and area. Make it interesting and sci-fi themed."</span><span class="s8">;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s7">const</span><span class="s4"> system </span><span class="s8">=</span><span class="s4"> </span><span class="s1">"You are the Flight Instructor. Present a short geometry 'what if' scenario involving triangle area in a space context. Don't reveal the answer immediately."</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>callGemini</span><span class="s8">(</span><span class="s1">prompt</span><span class="s8">,</span><span class="s1"> system</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">});</span></p>
<p class="p7"><span class="s10"></span><br></p>
<p class="p5"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// Startup</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>resize</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>window</span><span class="s8">.</span><span class="s1">onload </span><span class="s8">=</span><span class="s1"> </span><span class="s8">()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> setTimeout</span><span class="s8">(</span><span class="s1">updateUI</span><span class="s8">,</span><span class="s1"> </span><span class="s12">100</span><span class="s8">);</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
</body>
</html>
